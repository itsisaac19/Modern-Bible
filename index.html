<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Primary Meta Tags -->
    <title>Modern Bible | Clean, Modern, Fast - No Ads</title>
    <meta name="title" content="Modern Bible">
    <meta name="description" content="Modern Bible life brings you clean fast bible content. No ads, free forever.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://modernbible.life/">
    <meta property="og:title" content="Modern Bible">
    <meta property="og:description" content="Modern Bible life brings you clean fast bible content. No ads, free forever.">
    <meta property="og:image" content="https://modernbible.life/content/light/onboard.svg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://modernbible.life/">
    <meta property="twitter:title" content="Modern Bible">
    <meta property="twitter:description" content="Modern Bible life brings you clean fast bible content. No ads, free forever.">
    <meta property="twitter:image" content="https://modernbible.life/content/light/onboard.svg">

    <link id="none" rel="icon" href="content/light/abbrv.png" type="png">

    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "url": "https://modernbible.life",
          "logo": "https://modernbible.life/content/light/onboard.svg"
        }
    </script>
</head>
<style>
    body {
        width: 100%;
        overflow: hidden;
        background-color: rgb(235, 235, 235);
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }
    .mainwrapper {
        position: absolute;
        top: 0;
        left: 0;

        width: 100%;
        height: 100%;
    }
    .mainwrapper > .hero-wrapper {
        position: absolute;
        top: 24%;
        left: 50%;
        transform: translateX(-50%);
    }
    .hero-wrapper > h1.hero {
        font-weight: 600;
        font-size: 50px;
        color: rgb(0, 0, 0);
        text-align: left;
        margin-block-end: 0;
    }
    .hero-wrapper > p {
        margin-top: 35px;
        font-weight: 400;
        color: rgb(43, 43, 43);
    }

    .mainwrapper > .dailyverse {
        position: absolute;
        bottom: -610px;
        left: 50%;
        transform: translateX(-50%);

        min-width: 400px;
        width: 40%; 

        padding: 20px 35px 25px 35px;
        margin-bottom: 25px;

        border-radius: 12px;
        background-color: rgb(250, 250, 250);
        box-shadow: 0 14px 20px rgba(0, 0, 0, 0.315);
    }
    .dailyverse > h1.hero {
        font-weight: 500;
        font-size: 40px;
        color: rgb(0, 0, 0);
        text-align: left;
    }
    .dailyverse > p {
        font-weight: 600;
        color: rgb(68, 68, 68);
    }
    .dailyverse > p > span.ref {
        font-weight: 400;
        color: rgb(0, 0, 0);
    }

    .searchbarwrapper {
        position: absolute;
        top: calc(34% + 240px);
        left: 50%;
        transform: translateX(-50%);
        height: 130px;
        width: 50%;
        border-radius: 12px;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0);
        display: grid;
    }

.spacer {
    display:none;
}


.searchqueryswrap {
    position: absolute;
    opacity: 1;

    left: 0px;

    width: 100%;
    height: 100%;

    padding: 0 10px;

    border-radius: 12px;
    background: #ebebeb;

    transition: 0.3s ease;

    display:grid;
    grid-template-columns: 1fr 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    column-gap: 10px;

    grid-auto-flow: row;
}

input::-webkit-calendar-picker-indicator {
    display: none;
}

.searchqueryswrap > input:focus{
    outline: none;
    box-shadow: 0 0 0 2px rgb(255, 255, 255);
}
input:-internal-autofill-selected {
    background-color: unset;
}
.searchqueryswrap > input{
    width: auto;
    margin: 10px 0;
    border-radius: 10px;
    border: none;
    background-color: #e1e1e1;
    text-indent: 10px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}
.searchqueryswrap > input::placeholder {
    color: #8f8f8f;
    font-weight: 400;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}
.searchqueryswrap > input.unfilled::placeholder {
    color: rgb(203, 59, 59);
    font-weight: 400;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}

#searchqueryVerse{
    margin-right: 0px;
}
.searchqueryswrap > div.gobutton {
    grid-column: span 3;
    cursor: pointer;
    margin: 10px 0;

    border-radius: 9px;
    background: #ebebeb;

    color: rgb(92, 92, 92);
    font-size: 15px;
    display: grid;
    place-items: center;
    transition: 0.3s ease;

    box-shadow: 0px 0px 0px 1px #dfdfdf;
}
.searchqueryswrap > div.gobutton:hover {
    box-shadow: 18px 18px 35px #d8d8d8, -18px -18px 35px #fffffffc;
}
.searchqueryswrap > div.gobutton:active {
    transform: scale(0.9);
}

@media (max-width: 968px) {
    .hero-svg {
        width: 100%;
    }
    .searchqueryswrap > div.gobutton {
        box-shadow: 0px 0px 0px 1px #dfdfdf;
        grid-column: unset;
    }
    #searchqueryVerse{
        margin-right: 0px;
    }
    .mainwrapper > .dailyverse {
        min-width: 0;
        max-height: 400px;
        min-height: 250px;
        width: calc(100% - 150px);
        bottom: -250px;
    }
    .dailyverse > h1.hero {
        font-size: 20px;
    }
    .searchbarwrapper {
        top: calc(34% + 140px);
        width: 70%;
        height: 230px;
        left: 50%;
        transform: translateX(-50%);
        box-shadow: none;
        background: none;
    }
    .searchqueryswrap {
        grid-template-columns: 1fr;
        grid-template-rows: 1fr 1fr 1fr 1fr;
        column-gap: 10px;
        grid-auto-flow: row;
        left: 0px;
        padding: 0;
        box-shadow: none;
        background: none;
    }
    .searchqueryswrap > input {
        margin: 6px 0;
    }
    .waves {
        position: absolute;
        bottom: 100px;
    }
    .mainwrapper > .hero-wrapper {
        top: 20%;
        left: 50%;
        transform: translateX(-50%);
        width: 70%;
    }
    .hero-wrapper > h1.hero {
        font-size: 40px;
    }
}
.hero-svg {
    border-radius: 17px;
    background: #ebebeb;
    box-shadow:  37px 37px 73px #dbdbdb,
             -37px -37px 73px #fbfbfb;
}
</style>
<body>
    <div class="mainwrapper">
        <div class="hero-wrapper">
            <svg class="hero-svg" xmlns="http://www.w3.org/2000/svg" width="367" height="230" viewBox="0 0 367 230">
                <g id="Group_8" data-name="Group 8" transform="translate(-172 -682)">
                  <text id="Modern_Bible" data-name="Modern Bible" transform="translate(256 853)" fill="#888" font-size="35" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif" font-weight="500"><tspan x="0" y="0">Modern </tspan><tspan y="0" fill="#414141">Bible</tspan></text>
                  <g id="Group_3" data-name="Group 3" transform="translate(-194.169 460.092)">
                    <path id="Path_1" data-name="Path 1" d="M661.542,109.651H625.206a36.288,36.288,0,0,0,2.168-16.269,22.117,22.117,0,0,0-2.168-7.3c-5.354-10.561,0-20.614,0-20.614h36.336a23.09,23.09,0,0,0,0,20.614C667.061,96.887,661.542,109.651,661.542,109.651Z" transform="translate(-93.742 227.257)" fill="#f4f4f4" stroke="#656565" stroke-width="1"/>
                    <path id="Path_4" data-name="Path 4" d="M625.206,109.651a36.288,36.288,0,0,0,2.168-16.269,22.117,22.117,0,0,0-2.168-7.3c-5.354-10.561,0-20.614,0-20.614" transform="translate(-61.584 227.257)" fill="#f4f4f4" stroke="#656565" stroke-width="1"/>
                    <path id="Path_2" data-name="Path 2" d="M625.206,109.651a36.288,36.288,0,0,0,2.168-16.269,22.117,22.117,0,0,0-2.168-7.3c-5.354-10.561,0-20.614,0-20.614" transform="translate(-90.178 227.257)" fill="#f4f4f4" stroke="#656565" stroke-width="1"/>
                  </g>
                </g>
              </svg>              
        </div>

        <div class="searchbarwrapper">
            <div class="searchqueryswrap">
                <input placeholder="Book" class="searchqueryBook" list="booksDataList"></input>
                <datalist id="booksDataList">

                </datalist>

                <input placeholder="Chapter" class="searchqueryChapter" list="chapterDataList"></input>
                <datalist id="chapterDataList">
                </datalist>

                <input placeholder="Verse/range" id="searchqueryVerse"  class="searchqueryVerse" list="verseDataList"></input>
                <datalist id="verseDataList">
                </datalist>

                <div class="gobutton">GO</div>
            </div>
        </div>
        <div class="spacer"></div>
    </div>


<script src="data.js"></script>
<script>

class APIString {
    constructor(txt) {
        this.txt = txt;
    }
    parseForAPI() {
        let str = this.txt.trim().replace(/\s/g,'')

        if (str.toLowerCase() == 'songofsolomon') {
            return 'SongofSolomon';
        } else if (isNaN(str.charAt(0)) == false) { // If the first character IS A NUMBER
            return str.charAt(0) + str.charAt(1).toUpperCase() + str.substr(2).toLowerCase()
        } else {
            return str.charAt(0).toUpperCase() + str.substr(1).toLowerCase()
        }
    }
}

function dummy (book, chapter, verse) {
    console.log("Fetching: ", book, chapter, verse)

    if (chapter && verse) {
        window.location.href = "passage.html?book=" + book + "&chapter=" + chapter + "&verse=" + verse + '&version=ESV'
    }
    if (book && chapter && !(verse)) {
        window.location.href = "passage.html?book=" + book + "&chapter=" + chapter + '&version=ESV'
    }
}

function placeDataLists() {
    var currentBook = 'Genesis'
    // BOOKS
    var booksList = document.querySelector('#booksDataList');
    booksList.innerHTML = "";

    books.forEach(function(book) {
        var optionEl = document.createElement('option');
        optionEl.innerHTML = book;

        booksList.appendChild(optionEl)
    })

    // CHAPTERS
    var chaptersList = document.querySelector('#chapterDataList');
    chaptersList.innerHTML = "";

    for(i = 0; i < booksAndInfo[currentBook][0]; i++) {
        var optionEl = document.createElement('option');
        optionEl.innerHTML = (i+1);

        chaptersList.appendChild(optionEl)
    }
}
function chapterListBasedOffBook(book) {
    var currentBook = book

    var chaptersList = document.querySelector('#chapterDataList');
    chaptersList.innerHTML = "";

    for(i = 0; i < booksAndInfo[currentBook][0]; i++) {
        var optionEl = document.createElement('option');
        optionEl.innerHTML = (i+1);

        chaptersList.appendChild(optionEl)
    }
}

setTimeout(placeDataLists, 500)

document.querySelector('.gobutton').onclick = function () {
    var book = new APIString(document.querySelector('.searchqueryBook').value.trim().replace(/\s/g, "")) 
    var chap = document.querySelector('.searchqueryChapter').value.trim().replace(/\s/g, "");
    var verse = document.querySelector('.searchqueryVerse').value.trim().replace(/\s/g, "");

    document.querySelector('.searchqueryBook').value = book.parseForAPI()
    document.querySelector('.searchqueryChapter').value = chap
    document.querySelector('.searchqueryVerse').value = verse

    if (!(book)){
        if ((!booksAndInfo[book])) document.querySelector('.searchqueryBook').style.boxShadow = '0 0 0 2px #d49b9b';
        if (!(book)) document.querySelector('.searchqueryBook').style.boxShadow = '0 0 0 2px #d49b9b';
        return;
    }

    if (!(chap)) chap = 1;

    dummy(book.parseForAPI(), chap, verse)
}

document.querySelector('.searchqueryBook').addEventListener('input', function() {
    this.style.boxShadow = null

    if (books.includes(this.value)) {
        chapterListBasedOffBook(this.value)
    }
})
document.querySelector('.searchqueryChapter').addEventListener('input', function() {
    this.style.boxShadow = null
})
document.querySelector('.searchqueryVerse').addEventListener('keypress', function(e) {
    this.style.boxShadow = null

    if (e.key === 'Enter') {
        this.blur();
        document.querySelector('.gobutton').click();
    }
})

document.querySelector('.searchqueryBook').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        this.blur();
        document.querySelector('.gobutton').click();
    }
})

document.querySelector('.searchqueryChapter').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        this.blur();
        document.querySelector('.gobutton').click();
    }
})




var myString = new APIString('hello')

console.log(myString.parseForAPI())

</script>
</html>